<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" 
          content="default-src 'self'; 
                   script-src 'self' 'unsafe-inline' https://unpkg.com; 
                   style-src 'self' 'unsafe-inline';
                   img-src 'self' data: https:;
                   connect-src 'self';">
    <title>VietPhu CMS</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTggNEgyNEwyOCAyOEg0TDggNFoiIHN0cm9rZT0iIzAwZmY4OCIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik0xMiA4TDE2IDE2TDIwIDgiIHN0cm9rZT0iIzAwZmY4OCIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPg==">
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/html5-qrcode"></script>
    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.1.5/dist/signature_pad.umd.min.js"></script>
</head>
<body>
    <div id="userInfo">
        <div class="login-status" id="loginStatus">Not logged in</div>
        <button id="loginBtn" class="btn">Login</button>
        <button id="profileBtn" class="btn" onclick="componentManager.showProfilePage()" style="display: none;">Profile</button>
        <button id="logoutBtn" class="btn" onclick="componentManager.logout()" style="display: none;">Logout</button>
        <button id="usersBtn" class="btn" style="display: none;">Users</button>
    </div>

    <div class="container">
        <header>
            <div class="header-content">
                <h1>
                    <a href="#" onclick="componentManager.showHomePage()" class="logo-link">
                        <span class="header-text">
                            <div class="header-line1">MANAGEMENT SYSTEM</div>
                        </span>
                    </a>
                </h1>
            </div>
        </header>

        <!-- Update the sub-header and its content structure -->
        <div class="sub-header">
            <div class="sub-header-content">
                <h2>
                    <svg class="gear-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" 
                              stroke-linecap="round" 
                              stroke-linejoin="round"/>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9c.26.604.852.997 1.51 1H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                    </svg>
                    MATERIAL
                </h2>
                
                <!-- Create materials content container -->
                <div class="materials-content">
                    <!-- User Management Card -->
                    <div class="user-management card" style="display: none;">
                        <div class="card-header">
                            <h2>User Management</h2>
                            <div class="card-actions">
                                <button class="btn btn-primary" onclick="componentManager.showAddUserForm()">
                                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M12 5v14m-7-7h14" stroke-width="2" stroke-linecap="round"/>
                                    </svg>
                                    Add User
                                </button>
                            </div>
                        </div>
                        <div class="users-table-container">
                            <table class="users-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Name</th>
                                        <th>Role</th>
                                        <th>Phone</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="usersTableBody">
                                    <!-- Users will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Profile Page Card -->
                    <div class="profile-page card" style="display: none;">
                        <div class="profile-header">
                            <h2>User Profile</h2>
                            <div class="profile-actions">
                                <button class="btn btn-edit" onclick="componentManager.showInventory()">
                                    View Inventory
                                </button>
                            </div>
                        </div>
                        <div class="profile-content">
                            <div class="profile-info">
                                <div class="info-group">
                                    <span class="info-label">ID:</span>
                                    <span class="info-value" id="profileId"></span>
                                </div>
                                <div class="info-group">
                                    <span class="info-label">Name:</span>
                                    <span class="info-value" id="profileName"></span>
                                </div>
                                <div class="info-group">
                                    <span class="info-label">Role:</span>
                                    <span class="info-value" id="profileRole"></span>
                                </div>
                                <div class="info-group">
                                    <span class="info-label">Phone:</span>
                                    <span class="info-value" id="profilePhone"></span>
                                </div>
                            </div>
                            <div class="profile-stats">
                                <div class="stat-card" id="requestStats">
                                    <h3>Request Statistics</h3>
                                    <div class="stat-content">
                                        <div class="stat-item">
                                            <span class="stat-label">Total Requests:</span>
                                            <span class="stat-value" id="totalRequests">0</span>
                                        </div>
                                        <div class="stat-item">
                                            <span class="stat-label">Pending:</span>
                                            <span class="stat-value status-pending" id="pendingRequests">0</span>
                                        </div>
                                        <div class="stat-item">
                                            <span class="stat-label">Approved:</span>
                                            <span class="stat-value status-approved" id="approvedRequests">0</span>
                                        </div>
                                        <div class="stat-item">
                                            <span class="stat-label">Rejected:</span>
                                            <span class="stat-value status-rejected" id="rejectedRequests">0</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Request Section Card -->
                    <div class="request-section card">
                        <div class="section-header">
                            <h2>
                                <svg class="request-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" 
                                          stroke-linecap="round" 
                                          stroke-linejoin="round"/>
                                    <path d="M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z" 
                                          stroke-linecap="round" 
                                          stroke-linejoin="round"/>
                                    <path d="M12 11v6M9 14h6" 
                                          stroke-linecap="round" 
                                          stroke-linejoin="round"/>
                                </svg>
                                Request Material
                            </h2>
                        </div>
                        <p class="helper-text">Only approvers can view and manage requests</p>
                        <div id="requestsList"></div>
                    </div>

                    <!-- Scanner Section Card -->
                    <div class="scanner-section card">
                        <div class="section-header">
                            <h2>
                                <svg class="qr-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M3 3h7v7H3z" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M14 3h7v7h-7z" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M3 14h7v7H3z" stroke-linecap="round" stroke-linejoin="round"/>
                                    <rect x="14" y="14" width="3" height="3" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M20 14v3m0 4v-4m-3 4h3" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                Scan QR Code for Material
                            </h2>
                        </div>
                        <div class="scanner-content">
                            <button id="startCameraBtn" class="btn btn-edit camera-btn">
                                <svg class="camera-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
                                    <circle cx="12" cy="13" r="4"/>
                                </svg>
                                Turn Camera On
                            </button>
                            <div id="reader" style="display: none;"></div>
                            <div id="result"></div>
                            <div class="scan-instructions">
                                <p>
                                    <div class="instruction-header">
                                        <svg class="instruction-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M12 8v4M12 16h.01" 
                                                  stroke-linecap="round" 
                                                  stroke-linejoin="round"/>
                                            <path d="M3.34 19a10 10 0 1 1 17.32 0" 
                                                  stroke-linecap="round" 
                                                  stroke-linejoin="round"/>
                                            <path d="M21 21H3" 
                                                  stroke-linecap="round" 
                                                  stroke-linejoin="round"/>
                                        </svg>
                                        <span>Point the camera at the QR code of the material to:</span>
                                    </div>
                                </p>
                                <ul>
                                    <li>
                                        <div class="instruction-item">
                                            <svg class="approval-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                <path d="M9 12l2 2 4-4" 
                                                      stroke-linecap="round" 
                                                      stroke-linejoin="round"/>
                                                <circle cx="12" cy="12" r="9" 
                                                        stroke-linecap="round" 
                                                        stroke-linejoin="round"/>
                                            </svg>
                                            <span>Approver: Add material to inventory</span>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="instruction-item">
                                            <svg class="request-icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" 
                                                      stroke-linecap="round" 
                                                      stroke-linejoin="round"/>
                                                <path d="M12 11v6M9 14h6" 
                                                      stroke-linecap="round" 
                                                      stroke-linejoin="round"/>
                                            </svg>
                                            <span>Requester: Create material request</span>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Component List Card -->
                    <div class="component-list card">
                        <div class="component-header">
                            <h2>
                                <svg class="storage-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M4 4h16v16H4z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M4 8h16" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                Material Inventory
                            </h2>
                            <button id="addComponentBtn" class="btn btn-edit" onclick="componentManager.showAddComponentDialog()">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" width="20" height="20">
                                    <path d="M12 5v14M5 12h14" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                Add Material
                            </button>
                        </div>
                        <div class="search-bar">
                            <input type="text" id="searchInput" placeholder="Search material by name or ID...">
                        </div>
                        <div class="table-responsive">
                            <table id="componentTable">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Name</th>
                                        <th>Quantity</th>
                                        <th>Location</th>
                                        <th>Date Added</th>
                                        <th>Date Used</th>
                                        <th>Notes</th>
                                    </tr>
                                </thead>
                                <tbody id="componentTableBody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add after the Materials section -->
        <div class="sub-header">
            <div class="sub-header-content">
                <h2>
                    <svg class="factory-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <!-- Side view belt (moved down) -->
                        <path d="M2 12h20" stroke-width="2" stroke-linecap="round"/> <!-- Top belt -->
                        <path d="M2 20h20" stroke-width="2" stroke-linecap="round"/> <!-- Bottom belt -->
                        
                        <!-- End wheels and middle wheel (moved down) -->
                        <circle cx="4" cy="16" r="2" stroke-width="1.5"/> <!-- Left wheel -->
                        <circle cx="12" cy="16" r="2" stroke-width="1.5"/> <!-- Middle wheel -->
                        <circle cx="20" cy="16" r="2" stroke-width="1.5"/> <!-- Right wheel -->
                        
                        <!-- Three boxes on belt (moved higher) -->
                        <rect x="3" y="4" width="4" height="4" stroke-width="1.5"/> <!-- Left box -->
                        <rect x="10" y="4" width="4" height="4" stroke-width="1.5"/> <!-- Middle box -->
                        <rect x="17" y="4" width="4" height="4" stroke-width="1.5"/> <!-- Right box -->
                    </svg>
                    PRODUCTION
                </h2>
                
                <!-- Add VPQR file before machine categories -->
                <div class="production-content">
                    <!-- Enhanced VPQR Excel File -->
                    <div class="file-item vpqr-file">
                        <div class="file-icon-wrapper">
                            <svg class="file-icon excel-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                <polyline points="14 2 14 8 20 8"/>
                                <text x="8" y="19" font-size="8" fill="currentColor">XLS</text>
                            </svg>
                            <svg class="qr-overlay" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M3 3h7v7H3z" stroke-width="1.5"/>
                                <path d="M14 3h7v7h-7z" stroke-width="1.5"/>
                                <path d="M3 14h7v7H3z" stroke-width="1.5"/>
                                <rect x="14" y="14" width="3" height="3" stroke-width="1.5"/>
                                <path d="M20 14v3m0 4v-4m-3 4h3" stroke-width="1.5"/>
                            </svg>
                        </div>
                        <span class="vpqr-text">VPQR.xlsx</span>
                    </div>

                    <!-- 1. Máy Bông -->
                    <div class="machine-category card">
                        <div class="category-header" onclick="componentManager.toggleMachineContent(this)">
                            <h2>
                                <svg class="machine-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M3 6h18M3 12h18M3 18h18" stroke-width="1.5" stroke-linecap="round"/>
                                </svg>
                                Máy Bông
                                <!-- Add expand/collapse arrow -->
                                <svg class="expand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M6 9l6 6 6-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </h2>
                        </div>
                        <div class="machine-content" style="display: none;">
                            <!-- Content will be populated here -->
                            <div class="machine-folders">
                                <!-- Subfolder 1 -->
                                <div class="folder-item" onclick="componentManager.toggleFolder(this)">
                                    <div class="folder-header">
                                        <svg class="folder-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
                                        </svg>
                                        <span>Bảo Dưỡng, Lịch Xích, Trùng Tu</span>
                                    </div>
                                </div>

                                <!-- Subfolder 2 -->
                                <div class="folder-item" onclick="componentManager.toggleFolder(this)">
                                    <div class="folder-header">
                                        <svg class="folder-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
                                        </svg>
                                        <span>MÁY BÔNG COTTON</span>
                                        <svg class="expand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M6 9l6 6 6-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                    <div class="folder-content" style="display: none;">
                                        <!-- Excel Files -->
                                        <div class="file-item enhanced-file">
                                            <div class="file-icon-wrapper">
                                                <svg class="file-icon excel-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                                    <polyline points="14 2 14 8 20 8"/>
                                                    <text x="8" y="19" font-size="8" fill="currentColor">XLS</text>
                                                </svg>
                                            </div>
                                            <span class="excel-text">1. XÉ KIỆN DÀI</span>
                                        </div>

                                        <div class="file-item enhanced-file">
                                            <div class="file-icon-wrapper">
                                                <svg class="file-icon excel-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                                    <polyline points="14 2 14 8 20 8"/>
                                                    <text x="8" y="19" font-size="8" fill="currentColor">XLS</text>
                                                </svg>
                                            </div>
                                            <span class="excel-text">2. TÁCH VẬT NẶNG</span>
                                        </div>

                                        <div class="file-item enhanced-file">
                                            <div class="file-icon-wrapper">
                                                <svg class="file-icon excel-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                                    <polyline points="14 2 14 8 20 8"/>
                                                    <text x="8" y="19" font-size="8" fill="currentColor">XLS</text>
                                                </svg>
                                            </div>
                                            <span class="excel-text">3. XÉ 1 TRỤC</span>
                                        </div>

                                        <div class="file-item enhanced-file">
                                            <div class="file-icon-wrapper">
                                                <svg class="file-icon excel-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                                    <polyline points="14 2 14 8 20 8"/>
                                                    <text x="8" y="19" font-size="8" fill="currentColor">XLS</text>
                                                </svg>
                                            </div>
                                            <span class="excel-text">4. TRỘN 8 BUỒNG COTTON</span>
                                        </div>

                                        <div class="file-item enhanced-file">
                                            <div class="file-icon-wrapper">
                                                <svg class="file-icon excel-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                                    <polyline points="14 2 14 8 20 8"/>
                                                    <text x="8" y="19" font-size="8" fill="currentColor">XLS</text>
                                                </svg>
                                            </div>
                                            <span class="excel-text">5. MÁY XÉ TINH</span>
                                        </div>

                                        <div class="file-item enhanced-file">
                                            <div class="file-icon-wrapper">
                                                <svg class="file-icon excel-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                                    <polyline points="14 2 14 8 20 8"/>
                                                    <text x="8" y="19" font-size="8" fill="currentColor">XLS</text>
                                                </svg>
                                            </div>
                                            <span class="excel-text">6. TÁCH XƠ NGOẠI LAI</span>
                                        </div>

                                        <div class="file-item enhanced-file">
                                            <div class="file-icon-wrapper">
                                                <svg class="file-icon excel-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                                    <polyline points="14 2 14 8 20 8"/>
                                                    <text x="8" y="19" font-size="8" fill="currentColor">XLS</text>
                                                </svg>
                                            </div>
                                            <span class="excel-text">7. MÁY LÀM SẠCH</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Subfolder 3 -->
                                <div class="folder-item" onclick="componentManager.toggleFolder(this)">
                                    <div class="folder-header">
                                        <svg class="folder-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
                                        </svg>
                                        <span>MÁY BÔNG PE</span>
                                    </div>
                                </div>

                                <!-- Subfolder 4 -->
                                <div class="folder-item" onclick="componentManager.toggleFolder(this)">
                                    <div class="folder-header">
                                        <svg class="folder-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
                                        </svg>
                                        <span>MÁY BÔNG TC</span>
                                    </div>
                                </div>

                                <!-- Excel File -->
                                <div class="file-item enhanced-file">
                                    <div class="file-icon-wrapper">
                                        <svg class="file-icon excel-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                            <polyline points="14 2 14 8 20 8"/>
                                            <text x="8" y="19" font-size="8" fill="currentColor">XLS</text>
                                        </svg>
                                    </div>
                                    <span class="excel-text">TRUNG TÂM BỤI 1 + 2</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 2. Máy Chải Thô -->
                    <div class="machine-category card">
                        <div class="category-header" onclick="componentManager.toggleMachineContent(this)">
                            <h2>
                                <svg class="machine-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M3 6h18M3 12h18M3 18h18" stroke-width="1.5" stroke-linecap="round"/>
                                </svg>
                                Máy Chải Thô
                                <!-- Add expand/collapse arrow -->
                                <svg class="expand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M6 9l6 6 6-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </h2>
                        </div>
                        <div class="machine-content" style="display: none;">
                            <!-- Content will be populated here -->
                            <div class="machine-details">
                                <p>Machine Details:</p>
                                <ul>
                                    <li>Status: Active</li>
                                    <li>Maintenance Schedule: Monthly</li>
                                    <li>Last Maintenance: 2024-03-15</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- 3. Máy Cuộn -->
                    <div class="machine-category card">
                        <div class="category-header" onclick="componentManager.toggleMachineContent(this)">
                            <h2>
                                <svg class="machine-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M3 6h18M3 12h18M3 18h18" stroke-width="1.5" stroke-linecap="round"/>
                                </svg>
                                Máy Cuộn
                                <!-- Add expand/collapse arrow -->
                                <svg class="expand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M6 9l6 6 6-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </h2>
                        </div>
                        <div class="machine-content" style="display: none;">
                            <!-- Content will be populated here -->
                            <div class="machine-details">
                                <p>Machine Details:</p>
                                <ul>
                                    <li>Status: Active</li>
                                    <li>Maintenance Schedule: Monthly</li>
                                    <li>Last Maintenance: 2024-03-15</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- 4. Máy Chãi Kỹ -->
                    <div class="machine-category card">
                        <div class="category-header" onclick="componentManager.toggleMachineContent(this)">
                            <h2>
                                <svg class="machine-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M3 6h18M3 12h18M3 18h18" stroke-width="1.5" stroke-linecap="round"/>
                                </svg>
                                Máy Chãi Kỹ
                                <!-- Add expand/collapse arrow -->
                                <svg class="expand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M6 9l6 6 6-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </h2>
                        </div>
                        <div class="machine-content" style="display: none;">
                            <!-- Content will be populated here -->
                            <div class="machine-details">
                                <p>Machine Details:</p>
                                <ul>
                                    <li>Status: Active</li>
                                    <li>Maintenance Schedule: Monthly</li>
                                    <li>Last Maintenance: 2024-03-15</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- 5. Máy Ghép -->
                    <div class="machine-category card">
                        <div class="category-header" onclick="componentManager.toggleMachineContent(this)">
                            <h2>
                                <svg class="machine-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M3 6h18M3 12h18M3 18h18" stroke-width="1.5" stroke-linecap="round"/>
                                </svg>
                                Máy Ghép
                                <!-- Add expand/collapse arrow -->
                                <svg class="expand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M6 9l6 6 6-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </h2>
                        </div>
                        <div class="machine-content" style="display: none;">
                            <!-- Content will be populated here -->
                            <div class="machine-details">
                                <p>Machine Details:</p>
                                <ul>
                                    <li>Status: Active</li>
                                    <li>Maintenance Schedule: Monthly</li>
                                    <li>Last Maintenance: 2024-03-15</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- 6. Máy Thô -->
                    <div class="machine-category card">
                        <div class="category-header" onclick="componentManager.toggleMachineContent(this)">
                            <h2>
                                <svg class="machine-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M3 6h18M3 12h18M3 18h18" stroke-width="1.5" stroke-linecap="round"/>
                                </svg>
                                Máy Thô
                                <!-- Add expand/collapse arrow -->
                                <svg class="expand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M6 9l6 6 6-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </h2>
                        </div>
                        <div class="machine-content" style="display: none;">
                            <!-- Content will be populated here -->
                            <div class="machine-details">
                                <p>Machine Details:</p>
                                <ul>
                                    <li>Status: Active</li>
                                    <li>Maintenance Schedule: Monthly</li>
                                    <li>Last Maintenance: 2024-03-15</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- 7. Máy Con -->
                    <div class="machine-category card">
                        <div class="category-header" onclick="componentManager.toggleMachineContent(this)">
                            <h2>
                                <svg class="machine-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M3 6h18M3 12h18M3 18h18" stroke-width="1.5" stroke-linecap="round"/>
                                </svg>
                                Máy Con
                                <!-- Add expand/collapse arrow -->
                                <svg class="expand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M6 9l6 6 6-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </h2>
                        </div>
                        <div class="machine-content" style="display: none;">
                            <!-- Content will be populated here -->
                            <div class="machine-details">
                                <p>Machine Details:</p>
                                <ul>
                                    <li>Status: Active</li>
                                    <li>Maintenance Schedule: Monthly</li>
                                    <li>Last Maintenance: 2024-03-15</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- 8. Máy Ống -->
                    <div class="machine-category card">
                        <div class="category-header" onclick="componentManager.toggleMachineContent(this)">
                            <h2>
                                <svg class="machine-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M3 6h18M3 12h18M3 18h18" stroke-width="1.5" stroke-linecap="round"/>
                                </svg>
                                Máy Ống
                                <!-- Add expand/collapse arrow -->
                                <svg class="expand-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M6 9l6 6 6-6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </h2>
                        </div>
                        <div class="machine-content" style="display: none;">
                            <!-- Content will be populated here -->
                            <div class="machine-details">
                                <p>Machine Details:</p>
                                <ul>
                                    <li>Status: Active</li>
                                    <li>Maintenance Schedule: Monthly</li>
                                    <li>Last Maintenance: 2024-03-15</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="userManagement" class="card" style="display: none;">
            <h2>User Management</h2>
            <div class="user-lists">
                <div class="approvers">
                    <h3>Approvers</h3>
                    <ul id="approversList"></ul>
                </div>
                <div class="requesters">
                    <h3>Requesters</h3>
                    <ul id="requestersList"></ul>
                </div>
            </div>
        </div>
        
        <div class="users-page card" style="display: none;">
            <h2>Users Management</h2>
            <div class="users-grid">
                <div class="user-section">
                    <h3>Approvers</h3>
                    <div class="user-list" id="approverList"></div>
                </div>
                <div class="user-section">
                    <h3>Requesters</h3>
                    <div class="user-list" id="requesterList"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add sidebar menu -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-toggle" onclick="componentManager.toggleSidebar()">
            <svg class="menu-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 12h18M3 6h18M3 18h18"/>
            </svg>
        </div>
        <div class="sidebar-content">
            <div class="user-info-mini" onclick="componentManager.handleUserInfoClick()">
                <div class="user-avatar">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                </div>
                <div class="user-details">
                    <span id="sidebarUserName">User Profile (Not logged in)</span>
                    <span id="sidebarUserRole" class="user-role"></span>
                </div>
            </div>
            <nav class="sidebar-nav">
                <a href="#" onclick="componentManager.showHomePage()" class="nav-item">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M3 12l9-9 9 9h-2v8a1 1 0 0 1-1 1h-12a1 1 0 0 1-1-1v-8h-2z" 
                              stroke-linecap="round" 
                              stroke-linejoin="round"/>
                    </svg>
                    Home
                </a>
                <div id="adminMenu" style="display: none;">
                    <a href="#" onclick="componentManager.showUsersPage()" class="nav-item">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                        User Management
                    </a>
                </div>
            </nav>
        </div>
    </div>

    <!-- Add request form template -->
    <div id="requestFormTemplate" style="display: none;">
        <div class="request-form">
            <div class="form-header">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yMCAxMkg4MEw5MCA2MEgxMEwyMCAxMloiIHN0cm9rZT0iIzAwZmY4OCIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxwYXRoIGQ9Ik0zNSAyNUw1MCA1MEw2NSAyNSIgc3Ryb2tlPSIjMDBmZjg4IiBzdHJva2Utd2lkdGg9IjIiLz4KPHRleHQgeD0iNTAiIHk9IjgwIiBmb250LXNpemU9IjEyIiBmaWxsPSIjMDBmZjg4IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBsZXR0ZXItc3BhY2luZz0iMC4zZW0iPnYgaSBlIHQgcCBoIHU8L3RleHQ+Cjwvc3ZnPg==" 
                     alt="VietPhu Logo" 
                     class="form-logo">
                <div class="form-date">
                    <span>Request Date: </span>
                    <span id="requestDate"></span>
                </div>
            </div>
            <h2 class="form-title">Material Request Form</h2>
            <div class="form-content">
                <div class="form-group">
                    <label>Request ID:</label>
                    <span id="requestId"></span>
                </div>
                <div class="form-group">
                    <label>Requested Material:</label>
                    <span id="componentName"></span>
                </div>
                <div class="form-group">
                    <label>Quantity:</label>
                    <span id="requestQuantity"></span>
                </div>
                <div class="form-group">
                    <label>Request Reason:</label>
                    <span id="requestReason"></span>
                </div>
            </div>
            <div class="form-signatures">
                <div class="signature-section">
                    <div class="signature-box">
                        <div class="signature-line"></div>
                        <span class="signature-name" id="requesterName"></span>
                        <span class="signature-position" id="requesterPosition"></span>
                        <span class="signature-date" id="requesterSignDate"></span>
                    </div>
                    <p>Requester</p>
                </div>
                <div class="signature-section">
                    <div class="signature-box">
                        <div class="signature-line"></div>
                        <span class="signature-name" id="approverName"></span>
                        <span class="signature-position" id="approverPosition"></span>
                        <span class="signature-date" id="approverSignDate"></span>
                    </div>
                    <p>Approver</p>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>